<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Upload IVR Files</title>
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <h1>Upload IVR Files</h1>
<!--   <form action="/upload" method="POST" enctype="multipart/form-data">
    <input type="file" name="ivrfiles" multiple required />
    <button type="submit">Upload and Process</button>
  </form> -->
  <form action="/upload" method="POST" enctype="multipart/form-data">
<!--   <label class="file-button">
    Choose Files
    <input type="file" name="ivrfiles" multiple required hidden onchange="updateFileList(this)" />
  </label> -->
  <button type="button" class="file-button" onclick="document.getElementById('fileInput').click()">Choose Files</button>
<input type="file" id="fileInput" name="ivrfiles" multiple required hidden onchange="updateFileList(this)" />

  <span id="file-list" class="file-list-label">No files selected</span>
  <br />
  <label>
    <input type="checkbox" name="includeFilename" value="1">
    Include filename in diagram (SVG/PNG only)
  </label>
  <button type="submit">Upload and Process</button>
</form>
<script>
  function updateFileList(input) {
    const listSpan = document.getElementById('file-list');
    const files = input.files;
    if (!files.length) {
      listSpan.textContent = 'No files selected';
    } else if (files.length === 1) {
      listSpan.textContent = `1 file selected: ${files[0].name}`;
    } else {
      listSpan.textContent = `${files.length} files selected`;
    }
  }
</script>
</body>
</html>
